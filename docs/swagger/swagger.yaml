basePath: /api
definitions:
  handler.ErrorDetail:
    properties:
      code:
        type: string
      message:
        type: string
    type: object
  handler.ErrorResponse:
    properties:
      error:
        $ref: '#/definitions/handler.ErrorDetail'
    type: object
  handler.Meta:
    properties:
      page:
        type: integer
      per_page:
        type: integer
      total:
        type: integer
      total_pages:
        type: integer
    type: object
  handler.Response:
    properties:
      data: {}
      meta:
        $ref: '#/definitions/handler.Meta'
    type: object
  model.AdminResponse:
    properties:
      created_at:
        type: string
      id:
        type: integer
      username:
        type: string
    type: object
  model.CreateCategoryRequest:
    properties:
      description:
        type: string
      name:
        maxLength: 50
        type: string
      slug:
        type: string
      sort_order:
        type: integer
    required:
    - name
    type: object
  model.CreatePostRequest:
    properties:
      category_id:
        type: integer
      content:
        type: string
      excerpt:
        maxLength: 500
        type: string
      slug:
        type: string
      status:
        type: string
      tag_ids:
        items:
          type: integer
        type: array
      thumbnail:
        type: string
      title:
        maxLength: 200
        type: string
    required:
    - content
    - title
    type: object
  model.CreateProjectRequest:
    properties:
      content:
        type: string
      demo_url:
        type: string
      description:
        type: string
      github_url:
        type: string
      images:
        items:
          type: string
        type: array
      is_featured:
        type: boolean
      slug:
        type: string
      sort_order:
        type: integer
      tech_stack:
        items:
          type: string
        type: array
      thumbnail:
        type: string
      title:
        maxLength: 200
        minLength: 1
        type: string
    required:
    - title
    type: object
  model.CreateTagRequest:
    properties:
      name:
        maxLength: 50
        type: string
      slug:
        type: string
    required:
    - name
    type: object
  model.LoginRequest:
    properties:
      password:
        type: string
      username:
        type: string
    required:
    - password
    - username
    type: object
  model.LoginResponse:
    properties:
      expires_at:
        type: string
      token:
        type: string
    type: object
  model.ProjectOrder:
    properties:
      id:
        type: integer
      sort_order:
        type: integer
    required:
    - id
    - sort_order
    type: object
  model.PublishRequest:
    properties:
      publish:
        type: boolean
    type: object
  model.ReorderProjectsRequest:
    properties:
      orders:
        items:
          $ref: '#/definitions/model.ProjectOrder'
        type: array
    required:
    - orders
    type: object
  model.UpdateCategoryRequest:
    properties:
      description:
        type: string
      name:
        maxLength: 50
        type: string
      slug:
        type: string
      sort_order:
        type: integer
    required:
    - name
    type: object
  model.UpdatePostRequest:
    properties:
      category_id:
        type: integer
      content:
        type: string
      excerpt:
        maxLength: 500
        type: string
      slug:
        type: string
      tag_ids:
        items:
          type: integer
        type: array
      thumbnail:
        type: string
      title:
        maxLength: 200
        type: string
    required:
    - content
    - title
    type: object
  model.UpdateProjectRequest:
    properties:
      content:
        type: string
      demo_url:
        type: string
      description:
        type: string
      github_url:
        type: string
      images:
        items:
          type: string
        type: array
      is_featured:
        type: boolean
      slug:
        type: string
      sort_order:
        type: integer
      tech_stack:
        items:
          type: string
        type: array
      thumbnail:
        type: string
      title:
        maxLength: 200
        minLength: 1
        type: string
    type: object
  model.UpdateTagRequest:
    properties:
      name:
        maxLength: 50
        type: string
      slug:
        type: string
    required:
    - name
    type: object
host: localhost:8080
info:
  contact:
    email: eastdong1106@gmail.com
    name: API Support
  description: 개인 블로그 백엔드 API
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: http://swagger.io/terms/
  title: Blog API
  version: "1.0"
paths:
  /api/admin/auth/login:
    post:
      consumes:
      - application/json
      description: Authenticate admin and get JWT token
      parameters:
      - description: Login credentials
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.LoginResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      summary: Admin login
      tags:
      - auth
  /api/admin/auth/logout:
    post:
      description: Logout admin (client should discard token)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Admin logout
      tags:
      - auth
  /api/admin/auth/me:
    get:
      description: Get the currently authenticated admin's information
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.AdminResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get current admin info
      tags:
      - auth
  /api/admin/categories:
    get:
      description: Get a list of all categories
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
      security:
      - BearerAuth: []
      summary: List all categories (admin)
      tags:
      - admin/categories
    post:
      consumes:
      - application/json
      description: Create a new category
      parameters:
      - description: Category data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.CreateCategoryRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handler.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create a new category
      tags:
      - admin/categories
  /api/admin/categories/{id}:
    delete:
      description: Delete a category (must have no posts)
      parameters:
      - description: Category ID
        in: path
        name: id
        required: true
        type: integer
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a category
      tags:
      - admin/categories
    put:
      consumes:
      - application/json
      description: Update an existing category
      parameters:
      - description: Category ID
        in: path
        name: id
        required: true
        type: integer
      - description: Category data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.UpdateCategoryRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update a category
      tags:
      - admin/categories
  /api/admin/dashboard/stats:
    get:
      description: Get statistics for the admin dashboard
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
      security:
      - BearerAuth: []
      summary: Get dashboard statistics
      tags:
      - admin/dashboard
  /api/admin/media:
    get:
      description: Get a paginated list of all uploaded media files
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
      security:
      - BearerAuth: []
      summary: List all media files
      tags:
      - admin/media
  /api/admin/media/{id}:
    delete:
      description: Delete a media file from storage and database
      parameters:
      - description: Media ID
        in: path
        name: id
        required: true
        type: integer
      responses:
        "204":
          description: No Content
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a media file
      tags:
      - admin/media
  /api/admin/media/upload:
    post:
      consumes:
      - multipart/form-data
      description: Upload an image file to the server
      parameters:
      - description: Image file to upload
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handler.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
        "413":
          description: Request Entity Too Large
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Upload a media file
      tags:
      - admin/media
  /api/admin/posts:
    get:
      description: Get a paginated list of all posts with optional status filter
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: per_page
        type: integer
      - description: Filter by status (draft, published)
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
      security:
      - BearerAuth: []
      summary: List all posts (admin)
      tags:
      - admin/posts
    post:
      consumes:
      - application/json
      description: Create a new blog post
      parameters:
      - description: Post data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.CreatePostRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handler.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create a new post
      tags:
      - admin/posts
  /api/admin/posts/{id}:
    delete:
      description: Delete a blog post
      parameters:
      - description: Post ID
        in: path
        name: id
        required: true
        type: integer
      responses:
        "204":
          description: No Content
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a post
      tags:
      - admin/posts
    get:
      description: Get a single post by its ID
      parameters:
      - description: Post ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get a post by ID (admin)
      tags:
      - admin/posts
    put:
      consumes:
      - application/json
      description: Update an existing blog post
      parameters:
      - description: Post ID
        in: path
        name: id
        required: true
        type: integer
      - description: Post data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.UpdatePostRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update a post
      tags:
      - admin/posts
  /api/admin/posts/{id}/publish:
    patch:
      consumes:
      - application/json
      description: Change the publish status of a post
      parameters:
      - description: Post ID
        in: path
        name: id
        required: true
        type: integer
      - description: Publish status
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.PublishRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Publish or unpublish a post
      tags:
      - admin/posts
  /api/admin/projects:
    get:
      description: Get a list of all projects
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
      security:
      - BearerAuth: []
      summary: List all projects (admin)
      tags:
      - admin/projects
    post:
      consumes:
      - application/json
      description: Create a new project
      parameters:
      - description: Project data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.CreateProjectRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handler.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create a new project
      tags:
      - admin/projects
  /api/admin/projects/{id}:
    delete:
      description: Delete a project
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: integer
      responses:
        "204":
          description: No Content
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a project
      tags:
      - admin/projects
    get:
      description: Get detailed information about a project
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get a project by ID (admin)
      tags:
      - admin/projects
    put:
      consumes:
      - application/json
      description: Update an existing project
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: integer
      - description: Project data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.UpdateProjectRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update a project
      tags:
      - admin/projects
  /api/admin/projects/reorder:
    patch:
      consumes:
      - application/json
      description: Update the sort order of multiple projects
      parameters:
      - description: Reorder data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.ReorderProjectsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Reorder projects
      tags:
      - admin/projects
  /api/admin/tags:
    get:
      description: Get a list of all tags
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
      security:
      - BearerAuth: []
      summary: List all tags (admin)
      tags:
      - admin/tags
    post:
      consumes:
      - application/json
      description: Create a new tag
      parameters:
      - description: Tag data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.CreateTagRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handler.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create a new tag
      tags:
      - admin/tags
  /api/admin/tags/{id}:
    delete:
      description: Delete a tag
      parameters:
      - description: Tag ID
        in: path
        name: id
        required: true
        type: integer
      responses:
        "204":
          description: No Content
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a tag
      tags:
      - admin/tags
    put:
      consumes:
      - application/json
      description: Update an existing tag
      parameters:
      - description: Tag ID
        in: path
        name: id
        required: true
        type: integer
      - description: Tag data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.UpdateTagRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update a tag
      tags:
      - admin/tags
  /api/public/categories:
    get:
      description: Get a list of all categories with post counts
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
      summary: List all categories
      tags:
      - categories
  /api/public/categories/{slug}/posts:
    get:
      description: Get a paginated list of posts in a category
      parameters:
      - description: Category slug
        in: path
        name: slug
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      summary: Get posts by category
      tags:
      - categories
  /api/public/posts:
    get:
      description: Get a paginated list of published posts
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: per_page
        type: integer
      - description: Category ID filter
        in: query
        name: category
        type: integer
      - description: Tag ID filter
        in: query
        name: tag
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
      summary: List published posts
      tags:
      - posts
  /api/public/posts/{slug}:
    get:
      description: Get a single published post by its slug
      parameters:
      - description: Post slug
        in: path
        name: slug
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      summary: Get a post by slug
      tags:
      - posts
  /api/public/posts/{slug}/view:
    post:
      description: Record a view for a post (with IP-based deduplication)
      parameters:
      - description: Post slug
        in: path
        name: slug
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      summary: Record a post view
      tags:
      - posts
  /api/public/posts/search:
    get:
      description: Search published posts by title and content
      parameters:
      - description: Search query
        in: query
        name: q
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      summary: Search posts
      tags:
      - posts
  /api/public/projects:
    get:
      description: Get a list of all projects ordered by sort_order
      parameters:
      - description: Filter by featured projects only
        in: query
        name: featured
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
      summary: List all projects
      tags:
      - projects
  /api/public/projects/{slug}:
    get:
      description: Get detailed information about a project
      parameters:
      - description: Project slug
        in: path
        name: slug
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      summary: Get a project by slug
      tags:
      - projects
  /api/public/tags:
    get:
      description: Get a list of all tags with post counts
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
      summary: List all tags
      tags:
      - tags
  /api/public/tags/{slug}/posts:
    get:
      description: Get a paginated list of posts with a tag
      parameters:
      - description: Tag slug
        in: path
        name: slug
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handler.ErrorResponse'
      summary: Get posts by tag
      tags:
      - tags
securityDefinitions:
  BearerAuth:
    description: 'Bearer 토큰을 입력하세요 (예: Bearer eyJhbGc...)'
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
